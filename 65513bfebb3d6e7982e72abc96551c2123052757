{
  "comments": [
    {
      "key": {
        "uuid": "9584060d_85c3b7ca",
        "filename": "src/gn/ninja_rust_binary_target_writer.cc",
        "patchSetId": 5
      },
      "lineNbr": 130,
      "author": {
        "id": 1000014
      },
      "writtenOn": "2020-05-08T03:11:46Z",
      "side": 1,
      "message": "I don\u0027t understand what\u0027s going on here. You\u0027re making a new variable in addition to the old one, and then appending the new one to the old one. It looks like the only change here is that the files from GetDeps() are now getting added after the ones from AppendSourcesToImplicitDeps(). Could this be kept the way it was?",
      "revId": "65513bfebb3d6e7982e72abc96551c2123052757",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1318837_115d3ecc",
        "filename": "src/gn/ninja_rust_binary_target_writer.cc",
        "patchSetId": 5
      },
      "lineNbr": 130,
      "author": {
        "id": 1000257
      },
      "writtenOn": "2020-05-08T03:28:36Z",
      "side": 1,
      "message": "The net behavior change is this: GetDeps returns a load of object files in its first reference parameter. Previously, they just went into \u0027deps\u0027 (along with a load of other stuff, subsequently appended). They now go into \u0027deps\u0027 but also into \u0027nonrustdeps\u0027.\n\nI could rearrange it to avoid the new variable, and instead insert these things into \u0027nonrustdeps\u0027 immediately after the GetDeps line. Happy to do that if you prefer. However, I thought it was clearer to have a variable called \u0027extra_obj_files\u0027 which matches what we do elsewhere GetDeps is called and I think makes it clearer what exactly is returned in that first parameter. (See https://source.chromium.org/gn/gn/+/master:src/gn/ninja_binary_target_writer.h;l\u003d38?q\u003dGetDeps)\n\nLet me know your preference - I\u0027m happy to make this amendment. The only net effect I\u0027m after is that the extra object files end up in both deps and nonrustdeps.",
      "parentUuid": "9584060d_85c3b7ca",
      "revId": "65513bfebb3d6e7982e72abc96551c2123052757",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c88c195_a057a170",
        "filename": "src/gn/ninja_rust_binary_target_writer.cc",
        "patchSetId": 5
      },
      "lineNbr": 130,
      "author": {
        "id": 1000014
      },
      "writtenOn": "2020-05-08T04:28:15Z",
      "side": 1,
      "message": "I\u0027m OK keeping the extra variable, but I think then we need to reorder everything so there\u0027s some flow.\n\nIt feels like we should do the GetDeps call, then have a blank, then declare deps and build it from both of the sources.",
      "parentUuid": "b1318837_115d3ecc",
      "revId": "65513bfebb3d6e7982e72abc96551c2123052757",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7f484f4_8dc539f3",
        "filename": "src/gn/ninja_rust_binary_target_writer.cc",
        "patchSetId": 5
      },
      "lineNbr": 130,
      "author": {
        "id": 1000002
      },
      "writtenOn": "2020-05-08T08:35:30Z",
      "side": 1,
      "message": "I agree with Brett, the flow of the code is a bit confusing. I think it\u0027d be cleaner to first collecting all dependencies, then build deps followed by rustdeps and nonrustdeps. I\u0027d also consider moving the input_dep handling below up to the beginning of this method where input is defined.",
      "parentUuid": "8c88c195_a057a170",
      "revId": "65513bfebb3d6e7982e72abc96551c2123052757",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2ab890b2_e0b5924e",
        "filename": "src/gn/ninja_rust_binary_target_writer.cc",
        "patchSetId": 5
      },
      "lineNbr": 130,
      "author": {
        "id": 1000257
      },
      "writtenOn": "2020-05-08T16:29:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e7f484f4_8dc539f3",
      "revId": "65513bfebb3d6e7982e72abc96551c2123052757",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": false
    }
  ]
}