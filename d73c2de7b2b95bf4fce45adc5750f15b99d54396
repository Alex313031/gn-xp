{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8266edde_a1771937",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 19,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2022-04-06T12:47:42Z",
      "side": 1,
      "message": "who -\u003e would",
      "range": {
        "startLine": 19,
        "startChar": 46,
        "endLine": 19,
        "endChar": 49
      },
      "revId": "d73c2de7b2b95bf4fce45adc5750f15b99d54396",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "60a8eca6_f596406a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 25,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2022-04-06T12:47:42Z",
      "side": 1,
      "message": "nit: \u003c80 char per line",
      "revId": "d73c2de7b2b95bf4fce45adc5750f15b99d54396",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9c9bf0d6_2c558d06",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2022-04-06T11:13:36Z",
      "side": 1,
      "message": "i have no opinion on this change and didn\u0027t look at the code, but I know that in chromium we have a bot that generates ninja files in 2 distinct build dirs and verifieds they\u0027re identical. so we don\u0027t hit this code path in chromium I guess?",
      "revId": "d73c2de7b2b95bf4fce45adc5750f15b99d54396",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8b644e2f_7c4f8adb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000067
      },
      "writtenOn": "2022-04-06T11:22:16Z",
      "side": 1,
      "message": "Interesting. So I just ran `/tmp/gn-source_out_dir gen out/Default` in my Chromium checkout, and none of the Ninja files contain either \"BUILD_DIR\" or \"out/Default\", so I guess that confirms that this code path is never hit with the Chromium build system.\n\nOn the other hand, the Pigweed build definitely generates Ninja files where BUILD_DIR appears (but the build directory is always simply named \"out\"  there anyway if I understand correctly).",
      "parentUuid": "9c9bf0d6_2c558d06",
      "revId": "d73c2de7b2b95bf4fce45adc5750f15b99d54396",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f2e9212_bdb21908",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2022-04-06T11:58:08Z",
      "side": 1,
      "message": "that sounds like something that should be fixed in pigweed\u0027s gn files then (... whatever pigweed is)?",
      "revId": "d73c2de7b2b95bf4fce45adc5750f15b99d54396",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "45324bc0_396dfc02",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000067
      },
      "writtenOn": "2022-04-06T12:16:40Z",
      "side": 1,
      "message": "Pigweed is http://pigweed.dev, another Google open-source project that heavily depends on GN/Ninja for its build system.\n\nI don\u0027t think there is anything to fix there. Generated source files in the build directory are a necessary thing for both Fuchsia and Pigweed, and need to have their own `source_out_dir` or `source_gen_dir` when they are used in source_set() or action() targets, for example.",
      "parentUuid": "3f2e9212_bdb21908",
      "revId": "d73c2de7b2b95bf4fce45adc5750f15b99d54396",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5dbc32a3_e320392b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000019
      },
      "writtenOn": "2022-04-06T12:20:43Z",
      "side": 1,
      "message": "chromium also uses generated files. why doesn\u0027t it hit this?",
      "parentUuid": "45324bc0_396dfc02",
      "revId": "d73c2de7b2b95bf4fce45adc5750f15b99d54396",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f3c0ae5_dce7cbb6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000067
      },
      "writtenOn": "2022-04-06T12:33:50Z",
      "side": 1,
      "message": "Are these generated files used as sources that need their own target_gen_dir/target_out_dir though?\n\nFor example, generated headers do not. But a generated C++ source file will do. E.g. `out/Default/gen/foo/generated.cc`, where `out/Default` is the build directory, will end up compiled for a source_set() //dir:bar into an object file named `out/Default/obj/dir/bar/BUILD_DIR/gen/foo/bar.generated.cc.o`, when this CL is applied, or `out/Default/obj/dir/bar/out/Default/gen/foo/bar.generated.cc.o` otherwise, iirc).\n\nIn the case of Fuchsia, we do generated C++ source files that contain constant tables generated from FIDL files (similar in concept to textproto files).\n\nFor Pigweed, it looks like they generate the source code for test sources (I see paths like `host_clang_asan/obj/BUILD_DIR/host_clang_asan/gen/pw_rpc/ids_test.lib.generated_ids_test.cc.o`).",
      "parentUuid": "5dbc32a3_e320392b",
      "revId": "d73c2de7b2b95bf4fce45adc5750f15b99d54396",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "88a5632b_9b08f34f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2022-04-06T12:47:42Z",
      "side": 1,
      "message": "lgtm",
      "revId": "d73c2de7b2b95bf4fce45adc5750f15b99d54396",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac"
    }
  ]
}