{
  "comments": [
    {
      "key": {
        "uuid": "e3b6a42f_743a1b9a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000313
      },
      "writtenOn": "2020-08-16T00:39:29Z",
      "side": 1,
      "message": "My first GN change! Plz be gentle. :)\nI ran into the issue that config visibility is not respected, then found bug 22, so here\u0027s a fix hopefully.\nMy motivating example is a config that suppresses a compiler warning. Suppose one\u0027s code is clean as far as this warning is concerned, but they might want to allow deps on this config from their //third_party/* subtree.\nCheers!",
      "revId": "4181460c52c545fdbd91ddbc2af5fc8aa13690f3",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c445efc4_1fcd393a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000014
      },
      "writtenOn": "2020-08-16T02:41:04Z",
      "side": 1,
      "message": "Cool!\n\nDoes this run on the Fuchsia tree with no errors? We have to be careful making things more strict because we don\u0027t want to prevent a GN roll into the main projects that use it.\n\nIf Fuchsia actually runs with no errors from this change, maybe that\u0027s a promising sign and I\u0027ll check it with Chrome (if you have a Chrome checkout, you could also do this). If there are problems, we will either have to track them down and fix them in Fuchsia and Chrome before landing, or do some kind of opt-in checking of config visibility. (The annoyance of doing all of the above is why we\u0027ve never implemented this.)",
      "revId": "4181460c52c545fdbd91ddbc2af5fc8aa13690f3",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e43c44d3_37dafb13",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000313
      },
      "writtenOn": "2020-08-16T03:00:42Z",
      "side": 1,
      "message": "Good idea. No, this fails to gen Fuchsia in very much the manner that you\u0027d expect. I\u0027ll try to trip all the visibility issues throughout the tree and send a change to fix them.",
      "parentUuid": "c445efc4_1fcd393a",
      "revId": "4181460c52c545fdbd91ddbc2af5fc8aa13690f3",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "864dc3b2_ef06d554",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000313
      },
      "writtenOn": "2020-08-16T03:34:59Z",
      "side": 1,
      "message": "I think I ran into a problem. Consider the following:\n\n```\nexecutable(\"a\") {\n  deps \u003d [ \":b\" ]\n  ...\n}\n\nsource_set(\"b\") {\n  public_configs \u003d [ \":c\" ]\n  ...\n}\n\nconfig(\"c\") {\n  visibility \u003d [ \":b\" ]\n  ...\n}\n```\n\nBefore my change this gens, of course, because config.visibility does nothing. After my change this fails to gen with an error that \"a\" is not in the visibility of \"c\". I think this error is unexpected. What do you think?\n\nTo fix this I\u0027d have to significantly change Target::OnResolved(), or how it uses MergePublicConfigsFrom() and PullDependentTargetConfigs(). O_o",
      "parentUuid": "e43c44d3_37dafb13",
      "revId": "4181460c52c545fdbd91ddbc2af5fc8aa13690f3",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": true
    }
  ]
}