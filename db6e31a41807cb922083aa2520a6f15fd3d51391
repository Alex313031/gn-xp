{
  "comments": [
    {
      "key": {
        "uuid": "23dfe62a_509e9eb4",
        "filename": "tools/gn/target_generator.cc",
        "patchSetId": 2
      },
      "lineNbr": 278,
      "author": {
        "id": 1000014
      },
      "writtenOn": "2018-11-16T23:00:15Z",
      "side": 1,
      "message": "So to clarify, we expect the barriers to look like this?\n\n  my_barrier \u003d []",
      "revId": "db6e31a41807cb922083aa2520a6f15fd3d51391",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7eeed96_cf28fad3",
        "filename": "tools/gn/target_generator.cc",
        "patchSetId": 2
      },
      "lineNbr": 278,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2018-11-16T23:20:14Z",
      "side": 1,
      "message": "Lists of anything (for data keys), not just lists of strings.\nCorrect, walk keys used as barriers will be keys with the empty list as their values.\nFor walk keys generally, they must be lists of strings that are labels.",
      "parentUuid": "23dfe62a_509e9eb4",
      "revId": "db6e31a41807cb922083aa2520a6f15fd3d51391",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "45972dc2_ff61c10f",
        "filename": "tools/gn/target_generator.cc",
        "patchSetId": 2
      },
      "lineNbr": 278,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2018-11-17T00:24:10Z",
      "side": 1,
      "message": "Like Roland said, yes, a full barrier would be a key with an empty list. A partial barrier would be a key with a list containing subset of the targets deps and/or data_deps. The walk itself will do the assertions on that (and propagate the relevant error to the user) as it will know what the intended category is (e.g. string, dep target label), which is why that assertion isn\u0027t done here.\n\nOne thing that I\u0027m curious about is the implications of allowing a list of \u0027anything\u0027 -- passing integers makes sense, booleans a bit less so but still makes sense, but I\u0027m curious as to the use of passing lists or scopes as these values -- Roland, do you have an example of how that would be useful? Otherwise I\u0027m tempted to limit it, at least in this first iteration.",
      "parentUuid": "d7eeed96_cf28fad3",
      "revId": "db6e31a41807cb922083aa2520a6f15fd3d51391",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1fdfae39_9a162a14",
        "filename": "tools/gn/target_generator.cc",
        "patchSetId": 2
      },
      "lineNbr": 278,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2018-11-17T01:19:00Z",
      "side": 1,
      "message": "Lists of arbitrary values will be written into files in JSON, either as final outputs or as input files to actions.  This is one of the core use cases.",
      "parentUuid": "45972dc2_ff61c10f",
      "revId": "db6e31a41807cb922083aa2520a6f15fd3d51391",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d53438f_ccbb1236",
        "filename": "tools/gn/variables.cc",
        "patchSetId": 2
      },
      "lineNbr": 1346,
      "author": {
        "id": 1000014
      },
      "writtenOn": "2018-11-16T23:00:15Z",
      "side": 1,
      "message": "Can you indent this paragraph only two spaces? That should match the other help topics.",
      "revId": "db6e31a41807cb922083aa2520a6f15fd3d51391",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "19f8ca02_c9dab419",
        "filename": "tools/gn/variables.cc",
        "patchSetId": 2
      },
      "lineNbr": 1353,
      "author": {
        "id": 1000014
      },
      "writtenOn": "2018-11-16T23:00:15Z",
      "side": 1,
      "message": "I feel like we should mention the scope\u0027s keys map to lists of strings. We should come back when everything is done and add additional details and cross references (this will be hard for people to understand). In the meantime, we can at least add an example? I\u0027m thinking:\n\nExample\n\n  group(\"doom_melon\") {\n    metadata \u003d {\n      # These keys are not built in to GN but are interpreted when consuming\n      # metadata.\n      my_barrier \u003d []\n      my_extra_files \u003d [ \"a.txt\", \"b.txt\" ]\n    }\n  }",
      "revId": "db6e31a41807cb922083aa2520a6f15fd3d51391",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07dfdced_3c7813a4",
        "filename": "tools/gn/variables.cc",
        "patchSetId": 2
      },
      "lineNbr": 1353,
      "author": {
        "id": 1000023
      },
      "writtenOn": "2018-11-17T00:24:10Z",
      "side": 1,
      "message": "That was my plan -- as I add different features, I was planning on adding the relevant documentation here (e.g. when I implement the walk, describing its process here in that patch). Once everything is done and landed, we can go back and revise as necessary to make sure it covers everything we want it do.",
      "revId": "db6e31a41807cb922083aa2520a6f15fd3d51391",
      "serverId": "c360c8e5-7aa8-3905-a7a0-810934766dac",
      "unresolved": true
    }
  ]
}